---
layout: compress
---

<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

{% include header.html %}

<!-- Reading Progress Bar -->
<div class="reading-progress-container">
  <div class="reading-progress-bar" id="reading-progress-bar"></div>
</div>

<body data-theme="{{ site.mode }}" class="notransition" dir="{{ page.direction | default: "ltr" }}">

  <script>
    const body = document.body;
    const data = body.getAttribute("data-theme");

    const initTheme = (state) => {
      if (state === "dark") {
        body.setAttribute("data-theme", "dark");
      } else if (state === "light") {
        body.removeAttribute("data-theme");
      } else {
        localStorage.setItem("theme", data);
      }
    };
 
    initTheme(localStorage.getItem("theme"));
    
    setTimeout(() => body.classList.remove("notransition"), 75);
  </script>

  <div class="wrapper">
    <div class="sidebar">
      {% include author.html %}
      {% include navbar.html %}
      <div class="theme-toggle">
        <a id="mode" title="Toggle dark/light mode">
          <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="5"></circle>
            <line x1="12" y1="1" x2="12" y2="3"></line>
            <line x1="12" y1="21" x2="12" y2="23"></line>
            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
            <line x1="1" y1="12" x2="3" y2="12"></line>
            <line x1="21" y1="12" x2="23" y2="12"></line>
            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
          </svg>
          <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
          </svg>
        </a>
      </div>
    </div>
    <div class="main-content">
      <main class="page-content" aria-label="Content">
        <article itemscope itemtype="https://schema.org/BlogPosting">

          {% if page.tags and page.tags != empty %}
          <div class="post-item-tags">
            <svg class="tag-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>
            <span itemprop="keywords">
              {% for tag in page.tags %}
              <a class="tag" href="/tags/#{{tag | downcase | slugify}}">{{tag}}</a>{% unless forloop.last %}, {% endunless %}
              {% endfor %}
            </span>
          </div>
          {% endif %}
          <h1 class="post-title" itemprop="headline">{{ page.title | escape }}</h1>
          {% if page.date %}
          <div class="post-meta">
            <time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
              {{ page.date | date: "%b %d, %Y" }}
            </time>
            <span itemprop="author" itemscope itemtype="https://schema.org/Person">
              <span itemprop="name">{{ site.author.name }}</span>
            </span>
            <time hidden datetime="{{ page.modified | date_to_xmlschema }}" itemprop="dateModified">
              {{ page.date | date: "%b %d, %Y" }}
            </time>
          </div>
          {% endif %}

        <div class="page-content" itemprop="articleBody">
          {% include anchor_headings.html html=content anchorClass="anchor-head" beforeHeading=true h_min=1 h_max=4 %}
          {% if page.tweet %}
          <p>Comments this article on 
            <a href="https://twitter.com/{{site.twitter}}/status/{{page.tweet}}">Twitter</a>.
          </p>
          {% endif %}
        </div>
      </article>
    
      {% if page.comments %}
        {% include comments.html %}
      {% endif %}

        </article>
      </main>
      
      {% if page.modified %}
        <small class="post-updated-at">updated_at {{page.modified | date: "%d-%m-%Y"}}</small>
      {% endif %}
      {% if page.next or page.previous %}
        {% include navigation.html %}
      {% endif %}

      {% include footer.html %}
    </div>
  </div>
  
  <!-- Reading Progress JavaScript -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const progressBar = document.getElementById('reading-progress-bar');
      const article = document.querySelector('article');
      
      if (progressBar && article) {
        // Calculate reading position
        const calculateReadingProgress = () => {
          const articleBox = article.getBoundingClientRect();
          const windowHeight = window.innerHeight;
          const articleHeight = articleBox.height;
          const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
          
          // Start position (when article top reaches viewport top)
          const startPosition = Math.max(0, articleBox.top + scrollTop - 100);
          
          // End position (when article bottom reaches viewport bottom)
          const endPosition = startPosition + articleHeight - windowHeight;
          
          // Current scroll position relative to article
          const currentPosition = scrollTop - startPosition;
          
          // Calculate percentage
          let percentage = Math.max(0, Math.min(100, (currentPosition / (endPosition - startPosition)) * 100));
          
          // Update progress bar width
          progressBar.style.width = percentage + '%';
        };
        
        // Update on scroll
        window.addEventListener('scroll', calculateReadingProgress);
        
        // Initial calculation
        calculateReadingProgress();
      }
    });
  </script>
</body>

</html>
